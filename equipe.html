
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cadastro de Equipe</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBClDBA7f9-jfF6Nz6Ia-YlZ6G-hx3oerY",
      authDomain: "lepanapp.firebaseapp.com",
      databaseURL: "https://lepanapp-default-rtdb.firebaseio.com",
      projectId: "lepanapp"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    function carregarEquipe() {
      const lista = document.getElementById('listaEquipe');
      lista.innerHTML = '';
      db.ref('equipe').once('value').then(snapshot => {
        snapshot.forEach(child => {
          const membro = child.val();
          const li = document.createElement('li');
          li.textContent = membro.apelido + ' (' + membro.cargo + ')';
          lista.appendChild(li);
        });
      });
    }

    document.addEventListener('DOMContentLoaded', carregarEquipe);

    function salvarEquipe(e) {
      e.preventDefault();
      const form = document.getElementById('formEquipe');
      const id = document.getElementById('equipeId').value || db.ref().child('equipe').push().key;

      const membro = {
        nomeCompleto: document.getElementById('nomeCompleto').value,
        apelido: document.getElementById('apelido').value,
        documento: document.getElementById('documento').value,
        telefone: document.getElementById('telefone').value,
        valorDiaria: parseFloat(document.getElementById('valorDiaria').value),
        classificacao: document.getElementById('classificacao').value,
        observacoes: document.getElementById('observacoes').value
      };

      db.ref('equipe/' + id).set(membro).then(() => {
        form.reset();
        document.getElementById('equipeId').value = '';
        carregarEquipe();
      });
    }
  </script>
</head>
<body class="container py-4">

  <h2>Cadastro de Equipe</h2>

  <form id="formEquipe" onsubmit="salvarEquipe(event)">
    <input type="hidden" id="equipeId">
    <div class="mb-2">
      <label class="form-label">Nome Completo</label>
      <input type="text" id="nomeCompleto" class="form-control" required>
    </div>
    <div class="mb-2">
      <label class="form-label">Apelido</label>
      <input type="text" id="apelido" class="form-control" required>
    </div>
    <div class="mb-2">
      <label class="form-label">Documento</label>
      <input type="text" id="documento" class="form-control" required>
    </div>
    <div class="mb-2">
      <label class="form-label">Telefone</label>
      <input type="text" id="telefone" class="form-control" required>
    </div>
    <div class="mb-2">
      <label class="form-label">Valor Diária</label>
      <input type="number" id="valorDiaria" class="form-control" required>
    </div>
    <div class="mb-2">
      <label class="form-label">Classificação</label>
      <input type="text" id="classificacao" class="form-control" required>
    </div>
    <div class="mb-2">
      <label class="form-label">Observações</label>
      <textarea id="observacoes" class="form-control"></textarea>
    </div>
    <button type="submit" class="btn btn-primary">Salvar</button>
  </form>

  <h3 class="mt-4">Equipe Cadastrada</h3>
  <ul id="listaEquipe" class="list-group"></ul>

</body>
</html>
