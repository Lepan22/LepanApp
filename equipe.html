<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cadastro de Equipe</title>
  <link rel="stylesheet" href="assets/style.css">
</head>
<body>

  <div class="container">
    <h1>Cadastro de Equipe</h1>

    <form id="equipeForm">
      <label for="nome">Nome Completo:</label>
      <input type="text" id="nome" required>

      <label for="apelido">Apelido:</label>
      <input type="text" id="apelido" required>

      <label for="documento">Documento (RG/CPF):</label>
      <input type="text" id="documento" required>

      <label for="telefone">Telefone:</label>
      <input type="tel" id="telefone" required>

      <label for="valor">Valor da Diária:</label>
      <input type="number" id="valor" step="0.01" required>

      <label for="classificacao">Classificação/Especialidade:</label>
      <input type="text" id="classificacao" required>

      <label for="disponibilidade">Disponibilidade (Dias da Semana):</label>
      <input type="text" id="disponibilidade">

      <label for="indisponibilidade">Períodos de Indisponibilidade:</label>
      <input type="text" id="indisponibilidade">

      <label for="observacoes">Observações:</label>
      <textarea id="observacoes"></textarea>

      <button type="submit">Salvar</button>
    </form>

    <h2>Equipe Cadastrada</h2>
    <ul id="equipeList"></ul>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
    import { getDatabase, ref, push, onValue } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js";

    const firebaseConfig = {
      apiKey: "SUA_API_KEY",
      authDomain: "SUA_AUTH_DOMAIN",
      databaseURL: "SUA_DATABASE_URL",
      projectId: "SUA_PROJECT_ID",
      storageBucket: "SUA_STORAGE_BUCKET",
      messagingSenderId: "SUA_MESSAGING_SENDER_ID",
      appId: "SUA_APP_ID"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const equipeRef = ref(db, 'equipe');

    const form = document.getElementById('equipeForm');
    const equipeList = document.getElementById('equipeList');

    form.addEventListener('submit', (e) => {
      e.preventDefault();

      const novoMembro = {
        nome: document.getElementById('nome').value,
        apelido: document.getElementById('apelido').value,
        documento: document.getElementById('documento').value,
        telefone: document.getElementById('telefone').value,
        valor: parseFloat(document.getElementById('valor').value),
        classificacao: document.getElementById('classificacao').value,
        disponibilidade: document.getElementById('disponibilidade').value,
        indisponibilidade: document.getElementById('indisponibilidade').value,
        observacoes: document.getElementById('observacoes').value
      };

      push(equipeRef, novoMembro)
        .then(() => {
          alert('Membro cadastrado com sucesso!');
          form.reset();
        })
        .catch((error) => {
          console.error('Erro ao cadastrar membro:', error);
        });
    });

    function listarEquipe() {
      onValue(equipeRef, (snapshot) => {
        equipeList.innerHTML = '';
        snapshot.forEach((childSnapshot) => {
          const membro = childSnapshot.val();
          const li = document.createElement('li');
          li.textContent = `${membro.nome} (${membro.apelido}) - ${membro.classificacao}`;
          equipeList.appendChild(li);
        });
      });
    }

    listarEquipe();
  </script>

</body>
</html>
